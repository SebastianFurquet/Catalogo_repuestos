{% extends "inventario/base.html" %}

{% block title %} Estructura de Repuestos {% endblock  %}

{% block content_title %}
    <div class="container text-center">
        <h1>Estructura de Repuestos</h1>
    </div>
{% endblock content_title %}


{% block content %}

<!-- BARRA DE BUSQUEDA-->
<div class='container my-3' >
    <div class='row justify-content-center'>
        <div class="col-auto">
            <a href="{% url "estructura_form" %}" class="btn btn-primary ">Agregar Piezas</a>                             <!-- CAMBIAR URL-->
        </div>
        <div class="col-auto">
        <form action="{% url "estructura_list" %}" method='GET' class='d-flex'>                                          <!-- CAMBIAR URL-->
            <input type="text" name='busqueda' placeholder='Buscar' type='submit' class='form-control'>
        </form>
        </div>
    </div>
</div>

<div class='container mt-0 py-2 d-flex flex-column justify-content-center'>
    <div class='row  '>
        <table class="table table-light table-striped">
        <thead class="table-info"> <!-- estos son los encabezados de la tabla -->
            <tr class= "text-center align-middle">
                <th>Clase</th>
                <th>Marca</th>
                <th>Modelo</th> 
                <th>Parte</th> 
                <th>Elemento</th> 
                <th>Cod Elemento</th> 
                <th>Nro Pieza</th> 
                <th>Precio</th> 
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody class= "text-center align-middle"> <!-- Cuerpo de la tabla filas y columnas -->                                                         <!-- CAMBIAR MODELO -->
            {% for estructura in estructura %}
                <tr>
                    <td>{{ estructura.clase.nombre }}</td>
                    <td>{{ estructura.marca.nombre }}</td>
                    <td>{{ estructura.modelo.descripcion }}</td>
                    <td>{{ estructura.parte.nombre }}</td>
                    <td>{{ estructura.elemento.nombre }}</td>
                    <td>{{ estructura.elemento.cod_elemento }}</td>
                    <td>{{ estructura.nro_pieza }}</td>
                    <td>
                        {% if estructura.precio is null  %}
                            Sin Valor
                        {% else %}
                            $ {{ estructura.precio }}
                        {% endif %}
                    </td>
                    <td>
                        <a href="{% url "estructura_detail" estructura.id %}" class='btn btn-sm btn-info'>Detalle</a>
                        <a href="{% url 'estructura_update' estructura.id %}" class='btn btn-sm btn-warning'>Modificar</a>
                        <a href="{% url "estructura_delete" estructura.id %}" class='btn btn-sm btn-danger'>Eliminar</a>
                    </td>
                </tr>
            {% empty %}
                <tr><td colspan="6"> Sin resultados</td></tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
</div>



{% endblock content %}